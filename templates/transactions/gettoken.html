<!DOCTYPE html>
<html>
<head>
    <title>Firebase Cloud Messaging Example</title>
    <!-- Firebase SDK -->
   
</head>
<body>  
    <!-- Your content goes here -->

    <!-- Display the device token -->
    <div id="token"></div>

    <!-- Firebase Configuration -->
    <script type="module">

        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
        import { getMessaging } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-messaging.js';


        
        // Your Firebase project configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID",
            measurementId: "YOUR_MEASUREMENT_ID"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Retrieve Firebase Messaging object
        const messaging = firebase.messaging();

        // Request permission and get token
        messaging.requestPermission()
        .then(() => {
            console.log('Notification permission granted.');
            return messaging.getToken();
        })
        .then((token) => {
            console.log('Device token:', token);
            document.getElementById('token').textContent = `Device Token: ${token}`;
            // You can now send the token to your server and store it for sending notifications
        })
        .catch((err) => {
            console.error('Unable to get permission to notify.', err);
        });

        // Handle incoming messages
        messaging.onMessage((payload) => {
            console.log('Message received. ', payload);
            // Display the message or handle it as needed
            // Display the message or handle it as needed
        });
    </script>
</body>
</html>
