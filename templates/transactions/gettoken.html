<!DOCTYPE html>
<html>
<head>
    <title>Firebase Cloud Messaging Example</title>
    <!-- Firebase SDK -->
    
</head>
<body>
    <!-- Your content goes here -->

    <!-- Display the device token -->
    <div id="token"></div>

    <!-- Firebase Configuration -->
    <script type="module">

        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js';
        import { getMessaging } from 'https://www.gstatic.com/firebasejs/9.0.0/firebase-messaging.js';


        // Your Firebase project configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBqaqW0SMq8SPHCWX9QKpShGValpYyV2bs",
            authDomain: "namasterapidtax-a92e7.firebaseapp.com",
            projectId: "namasterapidtax-a92e7",
            storageBucket: "namasterapidtax-a92e7.appspot.com",
            messagingSenderId: "1072169977465",
            appId: "1:1072169977465:web:7b63186ed7f120943b76a8",
            measurementId: "G-VTWK2QSFXM"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Retrieve Firebase Messaging object
        const messaging = firebase.messaging();

        // Request permission and get token
        messaging.requestPermission()
        .then(() => {
            console.log('Notification permission granted.');
            return messaging.getToken();
        })
        .then((token) => {
            console.log('Device token:', token);
            document.getElementById('token').textContent = `Device Token: ${token}`;
            // You can now send the token to your server and store it for sending notifications
        })
        .catch((err) => {
            console.error('Unable to get permission to notify.', err);
        });

        // Handle incoming messages
        messaging.onMessage((payload) => {
            console.log('Message received. ', payload);
            // Display the message or handle it as needed
        });
    </script>
</body>
</html>
